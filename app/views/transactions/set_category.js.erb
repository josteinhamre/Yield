function updateCategory() {
  const transaction = document.getElementById("category-<%= @transaction.id %>");
  transaction.innerHTML = '<%= j render "components/category", category: @transaction.category %>';
  transaction.parentElement.querySelector(".confirm-trans").parentElement.click()

  innerHTML = '<%= j render "components/category", category: @transaction.category %>';
}

function updateCurrent() {
  let selected = document.getElementById("cat-<%= @transaction.id %>-<%= @transaction.category.id %>");
  current = selected.parentElement.querySelector(".current")
  if (current) {
    current.classList.remove('current');
  }

  selected.classList.add('current')
}

function closeSelector() {
  document.getElementById("row-selector-<%= @transaction.id %>").classList.remove('display');
  document.getElementById("chevron-<%= @transaction.id %>").classList.toggle('turned')
}

updateCategory();
updateCurrent();
closeSelector()


